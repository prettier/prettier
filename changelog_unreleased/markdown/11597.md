#### [HIGHLIGHT] Improve handling of whitespace for Chinese, Japanese, and Korean (#11597 by @tats-u)

##### Stop inserting spaces between Chinese or Japanese and Western characters

Previously, Prettier would insert spaces between Chinese or Japanese and Western characters (letters and digits). While some people prefer this style, it isnâ€™t standard, and is in fact contrary to official guidelines. Please see [here](https://github.com/tats-u/prettier-plugin-md-nocjsp#why-this-plugin-is-needed) for more details. We decided itâ€™s not Prettierâ€™s job to enforce a particular style in this case, so spaces arenâ€™t inserted anymore, while existing ones are preserved.

The tricky part of this change were ambiguous line breaks between Chinese or Japanese and Western characters. When Prettier unwraps text, it needs to decide whether such a line break should be simply removed or replaced with a space. For that Prettier examines the surrounding text and infers the preferred style.

<!-- prettier-ignore -->
```markdown
<!-- Input -->
æ¼¢å­—
Alphabetsã²ã‚‰ãŒãª12345ã‚«ã‚¿ã‚«ãƒŠ67890í•œê¸€

æ¼¢å­— Alphabets ã²ã‚‰ãŒãª 12345 ã‚«ã‚¿ã‚«ãƒŠ 67890 í•œê¸€

<!-- Prettier stable -->
æ¼¢å­— Alphabets ã²ã‚‰ãŒãª 12345 ã‚«ã‚¿ã‚«ãƒŠ 67890í•œê¸€

æ¼¢å­— Alphabets ã²ã‚‰ãŒãª 12345 ã‚«ã‚¿ã‚«ãƒŠ 67890 í•œê¸€

<!-- Prettier main -->
æ¼¢å­—Alphabetsã²ã‚‰ãŒãª12345ã‚«ã‚¿ã‚«ãƒŠ67890í•œê¸€

æ¼¢å­— Alphabets ã²ã‚‰ãŒãª 12345 ã‚«ã‚¿ã‚«ãƒŠ 67890 í•œê¸€
```

##### Comply to line breaking rules in Chinese and Japanese

There are rules that prohibit certain characters from appearing at the beginning or the end of a line in [Chinese](https://www.w3.org/TR/clreq/#prohibition_rules_for_line_start_end) and [Japanese](https://www.w3.org/TR/jlreq/#characters_not_starting_a_line). E.g., full stop characters `ã€‚`, `ï¼`, and `.` shouldnâ€™t start a line.

ğŸ‘Bad:

```text
æ—¥æœ¬èªçµ„ç‰ˆã«ã¯
ã€ç¦å‰‡å‡¦ç†ï¼ˆ
ãã‚“ããã—ã‚‡ã‚Š
ï¼‰ã¨å‘¼ã°ã‚Œã‚‹ãƒ«
ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™
ã€‚
```

ğŸ‘Good:

```text
æ—¥æœ¬èªçµ„ç‰ˆã«
ã¯ã€ç¦å‰‡å‡¦ç†
ï¼ˆãã‚“ããã—ã‚‡
ã‚Šï¼‰ã¨å‘¼ã°ã‚Œã‚‹
ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾
ã™ã€‚
```

In the above sentence:

- `ã€`, `ï¼‰`, `ãƒ¼`, `ã‚‡`, and `ã€‚` must not be placed at the beginning of a line.
- `ï¼ˆ` must not be placed at the end of a line.

Prettier now follows these rules when `proseWrap` is other than `preserve`.

##### Do not break lines inside Korean words

Korean uses spaces to divide words, and an inappropriate division may change the meaning of a sentence:

- `ë…¸ë˜ë¥¼ ëª»í•´ìš”.`: Iâ€™m not good at singing.
- `ë…¸ë˜ë¥¼ ëª» í•´ìš”.`: I canâ€™t sing (for some reason).

Previously, when `proseWrap` was set to `always`, successive Hangul characters could get split by a line break, which could later be converted to a space when the document is edited and reformatted. This doesnâ€™t happen anymore. Korean text is now wrapped like English.

<!-- prettier-ignore -->
```markdown
<!-- Input -->
ë…¸ë˜ë¥¼ ëª»í•´ìš”.

<!-- Prettier stable with --prose-wrap always --print-width 9 -->
ë…¸ë˜ë¥¼ ëª»
í•´ìš”.

<!-- Prettier stable, subsequent reformat with --prose-wrap always --print-width 80 -->
ë…¸ë˜ë¥¼ ëª» í•´ìš”.

<!-- Prettier main with --prose-wrap always --print-width 9 -->
ë…¸ë˜ë¥¼
ëª»í•´ìš”.

<!-- Prettier main, subsequent reformat with --prose-wrap always --print-width 80 -->
ë…¸ë˜ë¥¼ ëª»í•´ìš”.
```
